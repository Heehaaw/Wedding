<section>
  <h4>Jak dorazím?</h4>
  <form class="mt-3" [formGroup]="form">
    <div class="form-row">

      <fieldset class="form-group col-md-2" [class.has-error]="formErrors?.willAttend">
        <div class="form-check">
          <label class="form-check-label">
            <input type="radio" class="form-check-input" formControlName="willAttend" [value]="attendEnum.WILL_NOT_ATTEND" required>
            {{attendMap[attendEnum.WILL_NOT_ATTEND]}}
          </label>
        </div>
        <div class="form-check">
          <label class="form-check-label">
            <input type="radio" class="form-check-input" formControlName="willAttend" [value]="attendEnum.WILL_ATTEND" required>
            {{attendMap[attendEnum.WILL_ATTEND]}}
          </label>
        </div>
        <div class="form-check" *ngIf="plus1Able$ | async">
          <label class="form-check-label">
            <input type="radio" class="form-check-input" formControlName="willAttend" [value]="attendEnum.WILL_ATTEND_PLUS_1" required>
            {{attendMap[attendEnum.WILL_ATTEND_PLUS_1]}}
          </label>
        </div>
        <app-validation-message [validationError]="formErrors?.willAttend"></app-validation-message>
      </fieldset>
      <div class="form-group col-md-2" [class.has-error]="formErrors?.phone" [hidden]="!willCome">
        <label>
          Telefon
          <input type="text" class="form-control" formControlName="phone" placeholder="Enter phone" required>
        </label>
        <app-validation-message [validationError]="formErrors?.phone"></app-validation-message>
      </div>
      <div class="form-group col-md-2" [class.has-error]="formErrors?.food" [hidden]="!willCome">
        <label>
          Jídlo
          <select class="form-control" formControlName="food" required>
            <option *ngFor="let f of foods" [value]="f.key">{{f.value}}</option>
          </select>
        </label>
        <app-validation-message [validationError]="formErrors?.food"></app-validation-message>
      </div>
      <div class="form-group col-md-2" [class.has-error]="formErrors?.drink" [hidden]="!willCome">
        <label>
          Oblíbený nápoj
          <select class="form-control" formControlName="drink" required>
            <option *ngFor="let d of drinks" [value]="d.key">{{d.value}}</option>
          </select>
        </label>
        <app-validation-message [validationError]="formErrors?.drink"></app-validation-message>
      </div>
      <div class="form-group col-md-2" [class.has-error]="formErrors?.accomodation" [hidden]="!willCome">
        <label>
          Ubytování
          <select class="form-control" formControlName="accomodation" required>
            <option *ngFor="let a of accomodations" [value]="a.key">{{a.value}}</option>
          </select>
        </label>
        <app-validation-message [validationError]="formErrors?.accomodation"></app-validation-message>
      </div>
    </div>

    <div class="form-row" *ngIf="isPlus1">
      <div class="form-group col-md-2 offset-md-2" [class.has-error]="formErrors?.phone1">
        <label>
          Telefon +1
          <input type="text" class="form-control" formControlName="phone1" placeholder="Enter phone of +1">
        </label>
        <app-validation-message [validationError]="formErrors?.phone1"></app-validation-message>
      </div>
      <div class="form-group col-md-2" [class.has-error]="formErrors?.food1">
        <label>
          Jídlo +1
          <select class="form-control" formControlName="food1" required>
            <option *ngFor="let f of foods" [value]="f.key">{{f.value}}</option>
          </select>
        </label>
        <app-validation-message [validationError]="formErrors?.food1"></app-validation-message>
      </div>
      <div class="form-group col-md-2" [class.has-error]="formErrors?.drink1">
        <label>
          Nápoj +1
          <select class="form-control" formControlName="drink1" required>
            <option *ngFor="let d of drinks" [value]="d.key">{{d.value}}</option>
          </select>
        </label>
        <app-validation-message [validationError]="formErrors?.drink1"></app-validation-message>
      </div>
    </div>
    <div class="form-row">
      <button class="btn btn-primary save-btn" [disabled]="!form.valid" (click)="onUpdateGuest()">Uložit</button>
    </div>
  </form>
</section>
